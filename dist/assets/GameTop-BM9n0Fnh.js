import{M as b,_ as y}from"./MainLayout-CIsb3co4.js";import{r as $,a as D,b as L}from"./rank-B7IUb_5Z.js";import{d as B,o as C,p as E,w as I,e as s,B as M,c as t,F as d,r as c,k as P,i as u,l as e,n as f,t as o,_ as S}from"./index-BIIhTWEd.js";const T={class:"game-top-page"},V={class:"top-buttons"},F={class:"ranking-wrapper"},W={class:"ranking-columns"},z={class:"ranking-column"},G={key:0,class:"ranking-loading"},R={key:1,class:"ranking-empty"},Y={key:2,class:"ranking-list"},N={class:"rank-info"},j={class:"rank-name-row"},q=["src"],x={class:"rank-name"},A={class:"rank-score"},H={class:"score-value"},J={class:"ranking-column"},K={key:0,class:"ranking-loading"},O={key:1,class:"ranking-empty"},Q={key:2,class:"ranking-list"},U={class:"rank-info"},X={class:"rank-name-row"},Z=["src"],ss={class:"rank-name"},ns={class:"rank-score"},as={class:"score-value"},es={class:"ranking-column"},ts={key:0,class:"ranking-loading"},ls={key:1,class:"ranking-empty"},os={key:2,class:"ranking-list"},rs={class:"rank-info"},is={class:"rank-name-row"},ds=["src"],cs={class:"rank-name"},ks={class:"rank-score"},vs={class:"score-value"},us=B({__name:"GameTop",setup(_s){const h=P(),k=u(!1),_=u([]),p=u([]),g=u([]),w=async()=>{k.value=!0;const i=async n=>{try{const a=await n();if(a.code===200&&a.data)return a.data}catch(a){console.error("获取排行数据失败:",a)}return[]};try{const[n,a,l]=await Promise.all([i($),i(D),i(L)]);_.value=n,p.value=a,g.value=l}finally{k.value=!1}},m=i=>{switch(i){case 1:return"medal-gold";case 2:return"medal-silver";case 3:return"medal-bronze";default:return"medal-normal"}};return C(()=>{w()}),(i,n)=>(e(),E(b,null,{default:I(()=>[s("div",T,[s("div",V,[n[4]||(n[4]=s("button",{class:"btn-primary active"},"游戏盈利榜",-1)),s("button",{class:"btn-outline",onClick:n[0]||(n[0]=a=>M(h).push("/games"))},"返回游戏中心")]),s("div",F,[s("div",W,[s("div",z,[n[7]||(n[7]=s("div",{class:"ranking-header"},"今日盈利榜",-1)),k.value?(e(),t("div",G,[(e(),t(d,null,c(10,a=>s("div",{key:`today-skeleton-${a}`,class:"rank-skeleton"},[...n[5]||(n[5]=[s("div",{class:"skeleton-medal"},null,-1),s("div",{class:"skeleton-info"},[s("div",{class:"skeleton-name"}),s("div",{class:"skeleton-bet"})],-1),s("div",{class:"skeleton-score"},null,-1)])])),64))])):_.value.length===0?(e(),t("div",R,"暂无数据")):(e(),t("div",Y,[(e(!0),t(d,null,c(_.value,(a,l)=>{var r;return e(),t("div",{key:`today-${a.id}`,class:"rank-item"},[s("span",{class:f(["rank-medal",m(l+1)])},o(l+1),3),s("div",N,[s("div",j,[s("img",{src:`/ranking/vip/${a.level||1}.png`,alt:"VIP",class:"rank-vip",onError:n[1]||(n[1]=v=>v.target.style.display="none")},null,40,q),s("span",x,o(a.nickname||"玩家"+a.id),1)])]),s("div",A,[s("span",H,o(((r=a.profit)==null?void 0:r.toLocaleString())||0),1),n[6]||(n[6]=s("img",{src:y,alt:"金豆",class:"score-icon"},null,-1))])])}),128))]))]),s("div",J,[n[10]||(n[10]=s("div",{class:"ranking-header"},"昨日盈利榜",-1)),k.value?(e(),t("div",K,[(e(),t(d,null,c(10,a=>s("div",{key:`yesterday-skeleton-${a}`,class:"rank-skeleton"},[...n[8]||(n[8]=[s("div",{class:"skeleton-medal"},null,-1),s("div",{class:"skeleton-info"},[s("div",{class:"skeleton-name"}),s("div",{class:"skeleton-bet"})],-1),s("div",{class:"skeleton-score"},null,-1)])])),64))])):p.value.length===0?(e(),t("div",O,"暂无数据")):(e(),t("div",Q,[(e(!0),t(d,null,c(p.value,(a,l)=>{var r;return e(),t("div",{key:`yesterday-${a.id}`,class:"rank-item"},[s("span",{class:f(["rank-medal",m(l+1)])},o(l+1),3),s("div",U,[s("div",X,[s("img",{src:`/ranking/vip/${a.level||1}.png`,alt:"VIP",class:"rank-vip",onError:n[2]||(n[2]=v=>v.target.style.display="none")},null,40,Z),s("span",ss,o(a.nickname||"玩家"+a.id),1)])]),s("div",ns,[s("span",as,o(((r=a.profit)==null?void 0:r.toLocaleString())||0),1),n[9]||(n[9]=s("img",{src:y,alt:"金豆",class:"score-icon"},null,-1))])])}),128))]))]),s("div",es,[n[13]||(n[13]=s("div",{class:"ranking-header"},"上周盈利榜",-1)),k.value?(e(),t("div",ts,[(e(),t(d,null,c(10,a=>s("div",{key:`week-skeleton-${a}`,class:"rank-skeleton"},[...n[11]||(n[11]=[s("div",{class:"skeleton-medal"},null,-1),s("div",{class:"skeleton-info"},[s("div",{class:"skeleton-name"})],-1),s("div",{class:"skeleton-score"},null,-1)])])),64))])):g.value.length===0?(e(),t("div",ls,"暂无数据")):(e(),t("div",os,[(e(!0),t(d,null,c(g.value,(a,l)=>{var r;return e(),t("div",{key:`week-${l+1}`,class:"rank-item"},[s("span",{class:f(["rank-medal",m(l+1)])},o(l+1),3),s("div",rs,[s("div",is,[s("img",{src:`/ranking/vip/${a.level}.png`,alt:"VIP",class:"rank-vip",onError:n[3]||(n[3]=v=>v.target.style.display="none")},null,40,ds),s("span",cs,o(a.nickname),1)])]),s("div",ks,[s("span",vs,o(((r=a.profit)==null?void 0:r.toLocaleString())||0),1),n[12]||(n[12]=s("img",{src:y,alt:"金豆",class:"score-icon"},null,-1))])])}),128))]))])])])])]),_:1}))}}),ys=S(us,[["__scopeId","data-v-89663859"]]);export{ys as default};
