import{d as g,o as h,x as k,w as y,e as n,c as i,t as r,F as D,k as u,A as x,m as M,p as o,s as B}from"./index-5CuYqb8n.js";import{M as w,e as C}from"./MainLayout-DqBK_RG1.js";const S={class:"announcement-detail-page"},A={class:"announcement-container"},F={key:0,class:"loading"},L={class:"announcement-title"},$={class:"announcement-meta"},b={class:"date"},j=["innerHTML"],H={key:2,class:"not-found"},I=g({__name:"AnnouncementDetail",setup(N){const d=x(),s=M(),l=u(!0),a=u(null),p=e=>{if(!e)return"";const t=new Date(e),v=t.getFullYear(),_=String(t.getMonth()+1).padStart(2,"0"),f=String(t.getDate()).padStart(2,"0");return`${v}-${_}-${f}`},m=async()=>{const e=Number(d.params.id);if(!e){s.push("/");return}l.value=!0;try{const t=await C(e);t.code===200&&t.data?a.value=t.data:s.push("/")}catch(t){console.error("获取公告详情失败:",t),s.push("/")}finally{l.value=!1}},c=()=>{s.push("/")};return h(()=>{m()}),(e,t)=>(o(),k(w,null,{default:y(()=>[n("div",S,[n("div",A,[l.value?(o(),i("div",F,[...t[0]||(t[0]=[n("div",{class:"loading-spinner"},null,-1),n("p",null,"加载中...",-1)])])):a.value?(o(),i(D,{key:1},[n("h1",L,r(a.value.title),1),n("div",$,[n("span",b,r(p(a.value.created_at)),1),n("a",{href:"javascript:void(0)",class:"back-link",onClick:c},"返回公告列表")]),t[1]||(t[1]=n("div",{class:"divider"},null,-1)),n("div",{class:"announcement-content",innerHTML:a.value.content},null,8,j),t[2]||(t[2]=n("div",{class:"announcement-signature"}," 鼎丰28运营部 ",-1))],64)):(o(),i("div",H,[t[3]||(t[3]=n("p",null,"公告不存在或已删除",-1)),n("a",{href:"javascript:void(0)",onClick:c},"返回首页")]))])])]),_:1}))}}),E=B(I,[["__scopeId","data-v-258d8533"]]);export{E as default};
