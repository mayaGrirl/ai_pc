import{d as g,o as h,x as k,w as y,s as D,h as x,r as c,g as o,f as n,c as i,t as u,F as M}from"./index-DQGUWJIM.js";import{M as B,e as w}from"./MainLayout-DIJluQjy.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"announcement-detail-page"},F={class:"announcement-container"},L={key:0,class:"loading"},$={class:"announcement-title"},b={class:"announcement-meta"},j={class:"date"},A=["innerHTML"],H={key:2,class:"not-found"},I=g({__name:"AnnouncementDetail",setup(N){const d=D(),s=x(),l=c(!0),a=c(null),p=e=>{if(!e)return"";const t=new Date(e),v=t.getFullYear(),_=String(t.getMonth()+1).padStart(2,"0"),f=String(t.getDate()).padStart(2,"0");return`${v}-${_}-${f}`},m=async()=>{const e=Number(d.params.id);if(!e){s.push("/");return}l.value=!0;try{const t=await w(e);t.code===200&&t.data?a.value=t.data:s.push("/")}catch(t){console.error("获取公告详情失败:",t),s.push("/")}finally{l.value=!1}},r=()=>{s.push("/")};return h(()=>{m()}),(e,t)=>(o(),k(B,null,{default:y(()=>[n("div",S,[n("div",F,[l.value?(o(),i("div",L,[...t[0]||(t[0]=[n("div",{class:"loading-spinner"},null,-1),n("p",null,"加载中...",-1)])])):a.value?(o(),i(M,{key:1},[n("h1",$,u(a.value.title),1),n("div",b,[n("span",j,u(p(a.value.created_at)),1),n("a",{href:"javascript:void(0)",class:"back-link",onClick:r},"返回公告列表")]),t[1]||(t[1]=n("div",{class:"divider"},null,-1)),n("div",{class:"announcement-content",innerHTML:a.value.content},null,8,A),t[2]||(t[2]=n("div",{class:"announcement-signature"}," 鼎丰28运营部 ",-1))],64)):(o(),i("div",H,[t[3]||(t[3]=n("p",null,"公告不存在或已删除",-1)),n("a",{href:"javascript:void(0)",onClick:r},"返回首页")]))])])]),_:1}))}}),V=C(I,[["__scopeId","data-v-258d8533"]]);export{V as default};
