import{_ as u,I as M,j as S}from"./MainLayout-CqP2lYmd.js";import{U as T}from"./UserLayout-CzbGZN-3.js";import{u as g,D as h}from"./DataTable-D49Hiyp7.js";import{d as B,q as N,w as s,e as n,c as p,r as V,F as z,b as _,h as l,t as i,g as a,f as x,j,m as d,n as F}from"./index-BrVULTij.js";const L={class:"flex flex-col gap-5"},P={class:"flex gap-5 border-b border-[#eee] pb-[15px]"},R=["onClick"],U={key:0,class:"min-h-[calc(100vh-120px)] px-5 pb-10"},q={class:"max-w-[1400px] mx-auto items-start max-[1200px]:grid-cols-1 max-[1200px]:max-w-[600px]"},E={class:"text-orange-600 font-bold"},I={key:1,class:"min-h-[calc(100vh-120px)] px-5 pb-10"},A={class:"max-w-[1400px] mx-auto items-start max-[1200px]:grid-cols-1 max-[1200px]:max-w-[600px]"},G={class:"text-orange-600 font-bold"},X=B({__name:"Detail",setup(H){const{loading:b,dataSource:k,hasMore:f,pagination:v,loadData:m,changePage:w}=g(M,{defaultSize:10}),y=[{key:"type_label",title:"来源",width:"20%",align:"center"},{key:"a_points",title:"变动前",width:"15%",align:"center"},{key:"points",title:"金豆",width:"15%",align:"center"},{key:"b_points",title:"变动后",width:"15%",align:"center"},{key:"created_at",title:"变动时间",width:"15%",align:"center"}],o=g(S,{defaultSize:10}),C=[{key:"type_label",title:"来源",width:"20%",align:"center"},{key:"a_deposit",title:"变动前",width:"15%",align:"center"},{key:"deposit",title:"金豆",width:"15%",align:"center"},{key:"b_deposit",title:"变动后",width:"15%",align:"center"},{key:"created_at",title:"变动时间",width:"15%",align:"center"}],c=j("account"),$=[{key:"account",name:"金豆"},{key:"income",name:"存款"}],D=t=>{c.value=t,t==="account"&&m(!0),t==="income"&&!o.dataSource.value.length&&o.loadData(!0)};return m(),(t,r)=>(d(),N(T,null,{default:s(()=>[n("div",L,[n("div",P,[(d(),p(z,null,V($,e=>n("span",{key:e.key,class:F(["w-20 text-center text-sm cursor-pointer pb-3 border-b-2 border-transparent -mb-4 ",{"text-[#ff6600] border-b-[#ff6600]":c.value===e.key}]),onClick:J=>D(e.key)},i(e.name),11,R)),64))]),c.value==="account"?(d(),p("div",U,[n("div",q,[_(h,{columns:y,data:a(k),loading:a(b),pagination:a(v),onChange:a(w),hasMore:a(f)},{"column-a_points":s(({row:e})=>[l(i(t.$n(e.a_points)),1)]),"column-points":s(({row:e})=>[n("div",E,[l(i(t.$n(e.points))+" ",1),r[0]||(r[0]=n("img",{alt:"coin",class:"inline-block w-[13px] h-[13px]",src:u},null,-1))])]),"column-b_points":s(({row:e})=>[l(i(t.$n(e.b_points)),1)]),_:1},8,["data","loading","pagination","onChange","hasMore"])])])):x("",!0),c.value==="income"?(d(),p("div",I,[n("div",A,[_(h,{columns:C,data:a(o).dataSource.value,loading:a(o).loading.value,pagination:a(o).pagination.value,onChange:a(o).changePage,hasMore:a(o).hasMore.value},{"column-a_deposit":s(({row:e})=>[l(i(t.$n(e.a_deposit)),1)]),"column-deposit":s(({row:e})=>[n("div",G,[l(i(t.$n(e.deposit))+" ",1),r[1]||(r[1]=n("img",{alt:"coin",class:"inline-block w-[13px] h-[13px]",src:u},null,-1))])]),"column-b_deposit":s(({row:e})=>[l(i(t.$n(e.b_deposit)),1)]),_:1},8,["data","loading","pagination","onChange","hasMore"])])])):x("",!0)])]),_:1}))}});export{X as default};
