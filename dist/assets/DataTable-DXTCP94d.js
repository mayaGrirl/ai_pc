import{K as ue,Q as ce,J as ee,R as le,S as de,D as fe,r as q,d as he,c as C,f as M,F as G,g as K,b as ge,C as me,t as X,p as z,q as ye,n as re,T as pe,k as ve,s as $e}from"./index-GTHveaWT.js";import{c as be}from"./createLucideIcon-BB3of51Z.js";function xe(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=be("FolderOpenIcon",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);function Me(a){return le()?(de(a),!0):!1}const De=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Se=Object.prototype.toString,Ge=a=>Se.call(a)==="[object Object]",ae=()=>{};function _e(a,p){function y(...c){return new Promise((_,v)=>{Promise.resolve(a(()=>p.apply(this,c),{fn:p,thisArg:this,args:c})).then(_).catch(v)})}return y}function ke(a,p={}){let y,c,_=ae;const v=l=>{clearTimeout(l),_(),_=ae};let u;return l=>{const b=ee(a),f=ee(p.maxWait);return y&&v(y),b<=0||f!==void 0&&f<=0?(c&&(v(c),c=null),Promise.resolve(l())):new Promise((g,T)=>{_=p.rejectOnCancel?T:g,u=l,f&&!c&&(c=setTimeout(()=>{y&&v(y),c=null,g(u())},f)),y=setTimeout(()=>{c&&v(c),c=null,g(l())},b)})}}function Ke(a){let p;function y(){return p||(p=a()),p}return y.reset=async()=>{const c=p;p=void 0,c&&await c},y}function Xe(a){return Array.isArray(a)?a:[a]}function Oe(a,p=200,y={}){return _e(ke(p,y),a)}function et(a,p,y={}){const{immediate:c=!0,immediateCallback:_=!1}=y,v=ue(!1);let u=null;function h(){u&&(clearTimeout(u),u=null)}function l(){v.value=!1,h()}function b(...f){_&&a(),h(),v.value=!0,u=setTimeout(()=>{v.value=!1,u=null,a(...f)},ee(p))}return c&&(v.value=!0,De&&b()),Me(l),{isPending:ce(v),start:b,stop:l}}function tt(a,p,y){return fe(a,p,{...y,immediate:!0})}function nt(a,p={}){const{defaultSize:y=10,transform:c=D=>{var A;return{list:Array.isArray(D.data)?D.data:((A=D.data)==null?void 0:A.list)||D.list||[]}},initQuery:_={}}=p,v=q(!1),u=q([]),h=q(!1),l=q({page:1,size:y}),b=q({..._}),f=async(D=!1)=>{D&&(l.value.page=1),v.value=!0;try{const P={search:{...b.value},pagination:{page:l.value.page,size:l.value.size}},A=await a(P);if(A.code===200){const{list:I}=c(A);return p.appendMode&&l.value.page>1?u.value=[...u.value,...I]:u.value=I,I.length>=l.value.size?h.value=!0:h.value=!1,{hasMore:h,list:I}}else return l.value.page===1&&(u.value=[]),h.value=!1,{hasMore:!1,list:[]}}catch(P){console.error("Table load failed:",P),u.value=[],h.value=!1}finally{v.value=!1}},g=Oe(()=>{f(!0)},300);return{loading:v,dataSource:u,hasMore:h,pagination:l,query:b,loadData:f,reload:g,changePage:D=>{l.value.page=D,f()},changeSize:D=>{l.value.size=D,f(!0)}}}var R={exports:{}},Te=R.exports,se;function je(){return se||(se=1,(function(a,p){(function(y,c){a.exports=c()})(Te,(function(){var y=1e3,c=6e4,_=36e5,v="millisecond",u="second",h="minute",l="hour",b="day",f="week",g="month",T="quarter",j="year",D="date",P="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ie={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var n=["th","st","nd","rd"],e=s%100;return"["+s+(n[(e-20)%10]||n[e]||n[0])+"]"}},Z=function(s,n,e){var r=String(s);return!r||r.length>=n?s:""+Array(n+1-r.length).join(e)+s},oe={s:Z,z:function(s){var n=-s.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),t=e%60;return(n<=0?"+":"-")+Z(r,2,"0")+":"+Z(t,2,"0")},m:function s(n,e){if(n.date()<e.date())return-s(e,n);var r=12*(e.year()-n.year())+(e.month()-n.month()),t=n.clone().add(r,g),i=e-t<0,o=n.clone().add(r+(i?-1:1),g);return+(-(r+(e-t)/(i?t-o:o-t))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:g,y:j,w:f,d:b,D,h:l,m:h,s:u,ms:v,Q:T}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},N="en",F={};F[N]=ie;var te="$isDayjsObject",Q=function(s){return s instanceof U||!(!s||!s[te])},J=function s(n,e,r){var t;if(!n)return N;if(typeof n=="string"){var i=n.toLowerCase();F[i]&&(t=i),e&&(F[i]=e,t=i);var o=n.split("-");if(!t&&o.length>1)return s(o[0])}else{var m=n.name;F[m]=n,t=m}return!r&&t&&(N=t),t||!r&&N},x=function(s,n){if(Q(s))return s.clone();var e=typeof n=="object"?n:{};return e.date=s,e.args=arguments,new U(e)},d=oe;d.l=J,d.i=Q,d.w=function(s,n){return x(s,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var U=(function(){function s(e){this.$L=J(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[te]=!0}var n=s.prototype;return n.parse=function(e){this.$d=(function(r){var t=r.date,i=r.utc;if(t===null)return new Date(NaN);if(d.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var o=t.match(A);if(o){var m=o[2]-1||0,$=(o[7]||"0").substring(0,3);return i?new Date(Date.UTC(o[1],m,o[3]||1,o[4]||0,o[5]||0,o[6]||0,$)):new Date(o[1],m,o[3]||1,o[4]||0,o[5]||0,o[6]||0,$)}}return new Date(t)})(e),this.init()},n.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},n.$utils=function(){return d},n.isValid=function(){return this.$d.toString()!==P},n.isSame=function(e,r){var t=x(e);return this.startOf(r)<=t&&t<=this.endOf(r)},n.isAfter=function(e,r){return x(e)<this.startOf(r)},n.isBefore=function(e,r){return this.endOf(r)<x(e)},n.$g=function(e,r,t){return d.u(e)?this[r]:this.set(t,e)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(e,r){var t=this,i=!!d.u(r)||r,o=d.p(e),m=function(Y,k){var H=d.w(t.$u?Date.UTC(t.$y,k,Y):new Date(t.$y,k,Y),t);return i?H:H.endOf(b)},$=function(Y,k){return d.w(t.toDate()[Y].apply(t.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(k)),t)},w=this.$W,S=this.$M,O=this.$D,L="set"+(this.$u?"UTC":"");switch(o){case j:return i?m(1,0):m(31,11);case g:return i?m(1,S):m(0,S+1);case f:var W=this.$locale().weekStart||0,V=(w<W?w+7:w)-W;return m(i?O-V:O+(6-V),S);case b:case D:return $(L+"Hours",0);case l:return $(L+"Minutes",1);case h:return $(L+"Seconds",2);case u:return $(L+"Milliseconds",3);default:return this.clone()}},n.endOf=function(e){return this.startOf(e,!1)},n.$set=function(e,r){var t,i=d.p(e),o="set"+(this.$u?"UTC":""),m=(t={},t[b]=o+"Date",t[D]=o+"Date",t[g]=o+"Month",t[j]=o+"FullYear",t[l]=o+"Hours",t[h]=o+"Minutes",t[u]=o+"Seconds",t[v]=o+"Milliseconds",t)[i],$=i===b?this.$D+(r-this.$W):r;if(i===g||i===j){var w=this.clone().set(D,1);w.$d[m]($),w.init(),this.$d=w.set(D,Math.min(this.$D,w.daysInMonth())).$d}else m&&this.$d[m]($);return this.init(),this},n.set=function(e,r){return this.clone().$set(e,r)},n.get=function(e){return this[d.p(e)]()},n.add=function(e,r){var t,i=this;e=Number(e);var o=d.p(r),m=function(S){var O=x(i);return d.w(O.date(O.date()+Math.round(S*e)),i)};if(o===g)return this.set(g,this.$M+e);if(o===j)return this.set(j,this.$y+e);if(o===b)return m(1);if(o===f)return m(7);var $=(t={},t[h]=c,t[l]=_,t[u]=y,t)[o]||1,w=this.$d.getTime()+e*$;return d.w(w,this)},n.subtract=function(e,r){return this.add(-1*e,r)},n.format=function(e){var r=this,t=this.$locale();if(!this.isValid())return t.invalidDate||P;var i=e||"YYYY-MM-DDTHH:mm:ssZ",o=d.z(this),m=this.$H,$=this.$m,w=this.$M,S=t.weekdays,O=t.months,L=t.meridiem,W=function(k,H,B,E){return k&&(k[H]||k(r,i))||B[H].slice(0,E)},V=function(k){return d.s(m%12||12,k,"0")},Y=L||function(k,H,B){var E=k<12?"AM":"PM";return B?E.toLowerCase():E};return i.replace(I,(function(k,H){return H||(function(B){switch(B){case"YY":return String(r.$y).slice(-2);case"YYYY":return d.s(r.$y,4,"0");case"M":return w+1;case"MM":return d.s(w+1,2,"0");case"MMM":return W(t.monthsShort,w,O,3);case"MMMM":return W(O,w);case"D":return r.$D;case"DD":return d.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return W(t.weekdaysMin,r.$W,S,2);case"ddd":return W(t.weekdaysShort,r.$W,S,3);case"dddd":return S[r.$W];case"H":return String(m);case"HH":return d.s(m,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return Y(m,$,!0);case"A":return Y(m,$,!1);case"m":return String($);case"mm":return d.s($,2,"0");case"s":return String(r.$s);case"ss":return d.s(r.$s,2,"0");case"SSS":return d.s(r.$ms,3,"0");case"Z":return o}return null})(k)||o.replace(":","")}))},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(e,r,t){var i,o=this,m=d.p(r),$=x(e),w=($.utcOffset()-this.utcOffset())*c,S=this-$,O=function(){return d.m(o,$)};switch(m){case j:i=O()/12;break;case g:i=O();break;case T:i=O()/3;break;case f:i=(S-w)/6048e5;break;case b:i=(S-w)/864e5;break;case l:i=S/_;break;case h:i=S/c;break;case u:i=S/y;break;default:i=S}return t?i:d.a(i)},n.daysInMonth=function(){return this.endOf(g).$D},n.$locale=function(){return F[this.$L]},n.locale=function(e,r){if(!e)return this.$L;var t=this.clone(),i=J(e,r,!0);return i&&(t.$L=i),t},n.clone=function(){return d.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},s})(),ne=U.prototype;return x.prototype=ne,[["$ms",v],["$s",u],["$m",h],["$H",l],["$W",b],["$M",g],["$y",j],["$D",D]].forEach((function(s){ne[s[1]]=function(n){return this.$g(n,s[0],s[1])}})),x.extend=function(s,n){return s.$i||(s(n,U,x),s.$i=!0),x},x.locale=J,x.isDayjs=Q,x.unix=function(s){return x(1e3*s)},x.en=F[N],x.Ls=F,x.p={},x}))})(R)),R.exports}var Ce=je();const rt=xe(Ce),ze={class:"data-table-container"},He={class:"overflow-x-auto rounded-xl border border-gray-200 bg-white shadow-sm"},Pe={class:"w-full border-collapse"},Ae={class:"bg-gray-50/50 border-b border-gray-100"},Fe={class:"divide-y divide-gray-100"},We={key:0},Ye=["colspan"],Ie={key:1},Le=["colspan"],Ne={class:"flex flex-col items-center justify-center gap-3"},Ve={class:"w-12 h-12 bg-gray-50 rounded-full flex items-center justify-center text-2xl text-gray-300"},Be={class:"flex items-center justify-between mt-4 px-2"},qe={class:"flex items-center gap-2"},Je=["disabled"],Ue={class:"text-sm text-gray-600 px-2"},Ee=["disabled"],Re=he({__name:"DataTable",props:{columns:{default:()=>[]},data:{default:()=>[]},loading:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!0},pagination:{},showPagination:{type:Boolean,default:!0}},emits:["change","update:size"],setup(a,{emit:p}){const y=a,c=p,_=u=>{u<1||c("change",u)},v=u=>{u<1||y.data.length<y.pagination.size||c("change",u)};return(u,h)=>{var l,b;return z(),C("div",ze,[M("div",He,[M("table",Pe,[M("thead",null,[M("tr",Ae,[(z(!0),C(G,null,K(a.columns,f=>(z(),C("th",{key:f.key,class:re(["px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",f.align==="center"?"text-center":f.align==="right"?"text-right":"text-left"]),style:ye({width:f.width})},X(f.title),7))),128))])]),M("tbody",Fe,[a.loading?(z(),C("tr",We,[M("td",{colspan:a.columns.length,class:"px-6 py-12 text-center"},[...h[2]||(h[2]=[M("div",{class:"flex flex-col items-center justify-center gap-3"},[M("div",{class:"w-8 h-8 border-3 border-orange-100 border-t-orange-500 rounded-full animate-spin"}),M("span",{class:"text-sm text-gray-400"},"正在加载中...")],-1)])],8,Ye)])):a.data.length?(z(!0),C(G,{key:2},K(a.data,(f,g)=>(z(),C("tr",{key:g,class:"group hover:bg-orange-50/30 transition-colors duration-200"},[(z(!0),C(G,null,K(a.columns,T=>(z(),C("td",{key:T.key,class:re(["px-6 py-4 text-sm text-gray-600 whitespace-nowrap",T.align==="center"?"text-center":T.align==="right"?"text-right":"text-left"])},[pe(u.$slots,`column-${T.key}`,{row:f,index:g},()=>[ve(X(f[T.key]),1)])],2))),128))]))),128)):(z(),C("tr",Ie,[M("td",{colspan:a.columns.length,class:"px-6 py-12 text-center"},[M("div",Ne,[M("div",Ve,[ge(me(we))]),h[3]||(h[3]=M("span",{class:"text-sm text-gray-400"},"暂无数据",-1))])],8,Le)]))])])]),M("div",Be,[M("div",qe,[M("button",{class:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg bg-white text-gray-600 hover:bg-gray-50 hover:border-orange-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",disabled:((l=a.pagination)==null?void 0:l.page)===1,onClick:h[0]||(h[0]=f=>{var g;return _(((g=a.pagination)==null?void 0:g.page)-1)})}," 上一页 ",8,Je),M("span",Ue,X((b=a.pagination)==null?void 0:b.page),1),M("button",{class:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg bg-white text-gray-600 hover:bg-gray-50 hover:border-orange-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",disabled:!a.hasMore,onClick:h[1]||(h[1]=f=>{var g;return v(((g=a.pagination)==null?void 0:g.page)+1)})}," 下一页 ",8,Ee)])])])}}}),at=$e(Re,[["__scopeId","data-v-0aef4628"]]);export{at as D,et as a,Ge as b,Ke as c,rt as d,Xe as e,De as i,Me as t,nt as u,tt as w};
