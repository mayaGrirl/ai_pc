import{_ as g}from"./coin-BjeO1Yvx.js";import{M as L}from"./MainLayout-DjqzOFKu.js";import{r as S,a as C,b as B}from"./rank-D1TrVHxg.js";import{d as E,o as I,y as M,w as P,f as s,c as l,r as p,F as d,g as c,p as e,n as $,t,s as T}from"./index-DjiKld-4.js";const V={class:"game-top-page"},F={class:"top-buttons"},W={class:"ranking-wrapper"},z={class:"ranking-columns"},G={class:"ranking-column"},Y={key:0,class:"ranking-loading"},x={key:1,class:"ranking-empty"},N={key:2,class:"ranking-list"},R={class:"rank-info"},j={class:"rank-name-row"},q=["src"],A={class:"rank-name"},H={class:"rank-bet"},J={class:"rank-score"},K={class:"score-value"},O={class:"ranking-column"},Q={key:0,class:"ranking-loading"},U={key:1,class:"ranking-empty"},X={key:2,class:"ranking-list"},Z={class:"rank-info"},ss={class:"rank-name-row"},ns=["src"],as={class:"rank-name"},es={class:"rank-bet"},ls={class:"rank-score"},ts={class:"score-value"},os={class:"ranking-column"},rs={key:0,class:"ranking-loading"},is={key:1,class:"ranking-empty"},ds={key:2,class:"ranking-list"},cs={class:"rank-info"},ks={class:"rank-name-row"},vs=["src"],us={class:"rank-name"},ms={class:"rank-score"},_s={class:"score-value"},gs=E({__name:"GameTop",setup(ps){const k=p(!1),y=p([]),f=p([]),b=p([]),D=async()=>{k.value=!0;const r=async n=>{try{const a=await n();if(a.code===200&&a.data)return a.data}catch(a){console.error("获取排行数据失败:",a)}return[]};try{const[n,a,o]=await Promise.all([r(S),r(C),r(B)]);y.value=n,f.value=a,b.value=o}finally{k.value=!1}},h=r=>{switch(r){case 1:return"medal-gold";case 2:return"medal-silver";case 3:return"medal-bronze";default:return"medal-normal"}};return I(()=>{D()}),(r,n)=>(e(),M(L,null,{default:P(()=>[s("div",V,[s("div",F,[n[4]||(n[4]=s("button",{class:"btn-primary active"},"游戏盈利榜",-1)),n[5]||(n[5]=s("button",{class:"btn-outline"},"推广收益榜",-1)),s("button",{class:"btn-outline",onClick:n[0]||(n[0]=a=>r.$router.push("/games"))},"返回游戏中心")]),s("div",W,[s("div",z,[s("div",G,[n[9]||(n[9]=s("div",{class:"ranking-header"},"今日盈利榜",-1)),k.value?(e(),l("div",Y,[(e(),l(d,null,c(10,a=>s("div",{key:`today-skeleton-${a}`,class:"rank-skeleton"},[...n[6]||(n[6]=[s("div",{class:"skeleton-medal"},null,-1),s("div",{class:"skeleton-info"},[s("div",{class:"skeleton-name"}),s("div",{class:"skeleton-bet"})],-1),s("div",{class:"skeleton-score"},null,-1)])])),64))])):y.value.length===0?(e(),l("div",x,"暂无数据")):(e(),l("div",N,[(e(!0),l(d,null,c(y.value,(a,o)=>{var i,v,u,m,_;return e(),l("div",{key:`today-${a.id}`,class:"rank-item"},[s("span",{class:$(["rank-medal",h(o+1)])},t(o+1),3),s("div",R,[s("div",j,[s("img",{src:`/ranking/vip/${((i=a.member)==null?void 0:i.level)||1}.png`,alt:"VIP",class:"rank-vip",onError:n[1]||(n[1]=w=>w.target.style.display="none")},null,40,q),s("span",A,t(((v=a.member_field)==null?void 0:v.nickname)||((u=a.member)==null?void 0:u.user)||"玩家"),1)]),s("div",H,[n[7]||(n[7]=s("img",{src:g,alt:"金豆",class:"bet-icon"},null,-1)),s("span",null,"或 "+t(((m=a.bet_gold)==null?void 0:m.toLocaleString())||0),1)])]),s("div",J,[s("span",K,t(((_=a.profit)==null?void 0:_.toLocaleString())||0),1),n[8]||(n[8]=s("img",{src:g,alt:"金豆",class:"score-icon"},null,-1))])])}),128))]))]),s("div",O,[n[13]||(n[13]=s("div",{class:"ranking-header"},"昨日盈利榜",-1)),k.value?(e(),l("div",Q,[(e(),l(d,null,c(10,a=>s("div",{key:`yesterday-skeleton-${a}`,class:"rank-skeleton"},[...n[10]||(n[10]=[s("div",{class:"skeleton-medal"},null,-1),s("div",{class:"skeleton-info"},[s("div",{class:"skeleton-name"}),s("div",{class:"skeleton-bet"})],-1),s("div",{class:"skeleton-score"},null,-1)])])),64))])):f.value.length===0?(e(),l("div",U,"暂无数据")):(e(),l("div",X,[(e(!0),l(d,null,c(f.value,(a,o)=>{var i,v,u,m,_;return e(),l("div",{key:`yesterday-${a.id}`,class:"rank-item"},[s("span",{class:$(["rank-medal",h(o+1)])},t(o+1),3),s("div",Z,[s("div",ss,[s("img",{src:`/ranking/vip/${((i=a.member)==null?void 0:i.level)||1}.png`,alt:"VIP",class:"rank-vip",onError:n[2]||(n[2]=w=>w.target.style.display="none")},null,40,ns),s("span",as,t(((v=a.member_field)==null?void 0:v.nickname)||((u=a.member)==null?void 0:u.user)||"玩家"),1)]),s("div",es,[n[11]||(n[11]=s("img",{src:g,alt:"金豆",class:"bet-icon"},null,-1)),s("span",null,"或 "+t(((m=a.bet_gold)==null?void 0:m.toLocaleString())||0),1)])]),s("div",ls,[s("span",ts,t(((_=a.profit)==null?void 0:_.toLocaleString())||0),1),n[12]||(n[12]=s("img",{src:g,alt:"金豆",class:"score-icon"},null,-1))])])}),128))]))]),s("div",os,[n[16]||(n[16]=s("div",{class:"ranking-header"},"上周盈利榜",-1)),k.value?(e(),l("div",rs,[(e(),l(d,null,c(10,a=>s("div",{key:`week-skeleton-${a}`,class:"rank-skeleton"},[...n[14]||(n[14]=[s("div",{class:"skeleton-medal"},null,-1),s("div",{class:"skeleton-info"},[s("div",{class:"skeleton-name"})],-1),s("div",{class:"skeleton-score"},null,-1)])])),64))])):b.value.length===0?(e(),l("div",is,"暂无数据")):(e(),l("div",ds,[(e(!0),l(d,null,c(b.value,a=>{var o;return e(),l("div",{key:`week-${a.rank}`,class:"rank-item"},[s("span",{class:$(["rank-medal",h(a.rank)])},t(a.rank),3),s("div",cs,[s("div",ks,[s("img",{src:`/ranking/vip/${a.level}.png`,alt:"VIP",class:"rank-vip",onError:n[3]||(n[3]=i=>i.target.style.display="none")},null,40,vs),s("span",us,t(a.name),1)])]),s("div",ms,[s("span",_s,t(((o=a.score)==null?void 0:o.toLocaleString())||0),1),n[15]||(n[15]=s("img",{src:g,alt:"金豆",class:"score-icon"},null,-1))])])}),128))]))])])])])]),_:1}))}}),ws=T(gs,[["__scopeId","data-v-93fbe3bd"]]);export{ws as default};
