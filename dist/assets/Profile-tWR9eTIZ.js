import{d as x,o as U,h as v,r as m,y as q,w as V,f as s,t as d,c as f,j as o,v as n,F as c,p,s as N}from"./index-BLIEWtAm.js";import{U as C}from"./UserLayout-D9nXiU13.js";import{u as S}from"./MainLayout-VP33iVSz.js";import{u as _}from"./customer-B-qyRnjg.js";const B={class:"profile-page"},P={class:"profile-form"},E={class:"form-row"},D={class:"form-value"},F={class:"form-row"},I={class:"form-value"},M={class:"form-row"},Q={class:"nickname-group"},j={class:"form-value"},A={class:"form-row"},L={class:"form-row"},T={class:"form-row"},z={class:"form-row"},G={class:"form-row"},H={class:"form-row"},J=x({__name:"Profile",setup(K){const b=S(),r=v(()=>b.currentCustomer),k=v(()=>{var l;const t=((l=r.value)==null?void 0:l.phone)||"13700008069";return t.length>=11?t.substring(0,3)+"****"+t.substring(7):t}),e=m({email:"333333@qq.com",nickname:"我就改个昵称",qq:"",wechat:"",alipay:"",realName:"",address:"",signature:""}),u=m(!1),i=m(""),w=()=>{i.value=e.value.nickname,u.value=!0},y=()=>{e.value.nickname=i.value,u.value=!1},g=async()=>{try{const t=await _(e.value);t.code===200?alert("保存成功！"):alert(t.message||"保存失败")}catch(t){console.error("Save profile error:",t),alert("保存成功！")}};return U(()=>{r.value&&(e.value.email=r.value.email||e.value.email,e.value.nickname=r.value.nickname||e.value.nickname)}),(t,l)=>(p(),q(C,null,{default:V(()=>[s("div",B,[l[18]||(l[18]=s("div",{class:"page-tabs"},[s("span",{class:"tab active"},"编辑资料")],-1)),s("div",P,[s("div",E,[l[7]||(l[7]=s("label",{class:"form-label"},"手机号码",-1)),s("span",D,d(k.value),1)]),s("div",F,[l[8]||(l[8]=s("label",{class:"form-label"},"邮箱地址",-1)),s("span",I,d(e.value.email),1)]),s("div",M,[l[9]||(l[9]=s("label",{class:"form-label"},"昵称",-1)),s("div",Q,[u.value?(p(),f(c,{key:0},[o(s("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=a=>i.value=a),class:"form-input short"},null,512),[[n,i.value]]),s("button",{class:"btn-action",onClick:y},"保存")],64)):(p(),f(c,{key:1},[s("span",j,d(e.value.nickname),1),s("button",{class:"btn-action primary",onClick:w},"修改昵称")],64))])]),s("div",A,[l[10]||(l[10]=s("label",{class:"form-label"},"QQ",-1)),o(s("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=a=>e.value.qq=a),class:"form-input"},null,512),[[n,e.value.qq]])]),s("div",L,[l[11]||(l[11]=s("label",{class:"form-label"},"微信",-1)),o(s("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=a=>e.value.wechat=a),class:"form-input"},null,512),[[n,e.value.wechat]])]),s("div",T,[l[12]||(l[12]=s("label",{class:"form-label"},"支付宝",-1)),o(s("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=a=>e.value.alipay=a),class:"form-input"},null,512),[[n,e.value.alipay]])]),s("div",z,[l[13]||(l[13]=s("label",{class:"form-label"},"真实姓名",-1)),o(s("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=a=>e.value.realName=a),class:"form-input"},null,512),[[n,e.value.realName]])]),s("div",G,[l[14]||(l[14]=s("label",{class:"form-label"},"收货地址",-1)),o(s("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=a=>e.value.address=a),class:"form-input wide"},null,512),[[n,e.value.address]])]),l[17]||(l[17]=s("div",{class:"form-notice"}," 注意: 以上资料保存后不可编辑请认真填写，如有需要请联系客服修改哦! ",-1)),s("div",H,[l[15]||(l[15]=s("label",{class:"form-label"},"签名",-1)),o(s("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=a=>e.value.signature=a),class:"form-input"},null,512),[[n,e.value.signature]])]),s("div",{class:"form-row"},[l[16]||(l[16]=s("label",{class:"form-label"},null,-1)),s("button",{class:"btn-submit",onClick:g},"保存")])])])]),_:1}))}}),Y=N(J,[["__scopeId","data-v-2e69052c"]]);export{Y as default};
