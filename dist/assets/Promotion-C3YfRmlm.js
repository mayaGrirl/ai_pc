import{u as V,M as j}from"./MainLayout-Cp4yWRnA.js";import{r as E,a as F,b as C}from"./customer-QUF3XMsB.js";import{d as I,o as Q,x as U,w as f,e,i as o,b as D,c as s,r as u,F as p,C as S,j as x,k as c,l as A,p as r,t as d,s as K}from"./index-B3amumuV.js";const q={class:"container spread-container"},G={class:"layui-main body spread"},H={class:"spreadMain"},J={class:"content-row"},O={class:"content content-left"},W={class:"layui-table"},X=["src"],Y={class:"coin"},Z={class:"content-right-wrap"},_={class:"content"},ee=["value"],te={class:"myfrendwrap layui-clear"},le={class:"layui-table myfrendtable"},ne={key:0},re={key:1},se={class:"coin"},oe=I({__name:"Promotion",setup(ae){const w=V(),L=x(()=>w.currentCustomer),B=x(()=>w.isLogin),b=c(""),y=c(!1),M=x(()=>{var t;const l=b.value||((t=L.value)==null?void 0:t.spread_code)||"";return`重磅推出工资系统，游戏就可以领取工资。另外每日幸运儿奖励千万豆豆作为奖励，幸运儿上线另外可以领取10%奖励！您还在等什么？赶快行动吧！您的推广地址：${window.location.origin}/register?tj=${l}`}),N=c([{level:0,experience:0,reward:0},{level:1,experience:500,reward:1e4},{level:2,experience:2e3,reward:3e4},{level:3,experience:1e4,reward:8e4},{level:4,experience:6e4,reward:16e4},{level:5,experience:42e4,reward:3e5},{level:6,experience:8e5,reward:5e5},{level:7,experience:2e6,reward:6e5},{level:8,experience:8e6,reward:7e5},{level:9,experience:15e6,reward:8e5},{level:10,experience:3e7,reward:9e5}]),m=c([]),g=l=>(l==null?void 0:l.toLocaleString())||"0",R=l=>l?new Date(l*1e3).toLocaleDateString("zh-CN"):"-",$=()=>{const l=document.getElementById("textarea2");l&&(l.select(),document.execCommand("Copy"),alert("已复制好，可贴粘。"))},T=async()=>{try{const l=await E();l.code===200&&l.data&&(b.value=l.data.key)}catch(l){console.error("加载推广链接失败",l)}},v=async()=>{y.value=!0;try{const l=await F({pagination:{page:1,size:50}});l.code===200&&l.data&&(m.value=l.data)}catch(l){console.error("加载推广会员失败",l)}finally{y.value=!1}},h=async()=>{try{const l=await C({type:1});l.code===200?(alert(l.message||"领取成功"),v()):alert(l.message||"领取失败")}catch{alert("领取失败")}},z=async()=>{try{const l=await C({type:2});l.code===200?(alert(l.message||"领取成功"),v()):alert(l.message||"领取失败")}catch{alert("领取失败")}},k=(()=>{const l=[];for(let t=3;t<=6;t++){const a=new Date;a.setDate(a.getDate()-t);const n=(a.getMonth()+1).toString().padStart(2,"0"),i=a.getDate().toString().padStart(2,"0");l.push(`${n}月${i}日`)}return l})();return Q(()=>{B.value&&(T(),v())}),(l,t)=>{const a=A("font");return r(),U(j,null,{default:f(()=>[e("div",q,[t[25]||(t[25]=e("div",{class:"spread_head"},null,-1)),t[26]||(t[26]=e("div",{class:"spread_head2"},null,-1)),e("div",G,[e("div",H,[e("div",J,[e("div",O,[t[8]||(t[8]=e("h2",null,"最佳赚币途径",-1)),e("p",null,[t[2]||(t[2]=o(" 推荐好友一起来玩，成功推荐一个好友除了可赚取",-1)),D(a,{color:"red"},{default:f(()=>[...t[0]||(t[0]=[o("0.2%",-1)])]),_:1}),t[3]||(t[3]=o("投注提成外，还将获得高达",-1)),D(a,{color:"red"},{default:f(()=>[...t[1]||(t[1]=[o("168万",-1)])]),_:1}),t[4]||(t[4]=o("豆豆的好友升级奖励！ 各等级奖励计划：",-1)),t[5]||(t[5]=e("br",null,null,-1))]),e("table",W,[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",null,"好友等级"),e("th",null,"需要生态值"),e("th",null,"获得好友升级奖励"),e("th",null,"获得好友投注提成")])],-1)),e("tbody",null,[(r(!0),s(p,null,u(N.value,n=>(r(),s("tr",{key:n.level},[e("td",null,[e("img",{src:`/skin/pc/wm/images/level/${n.level}.png`,width:"25"},null,8,X)]),e("td",null,d(n.experience),1),e("td",null,[e("span",Y,d(g(n.reward)),1)]),t[6]||(t[6]=e("td",null,[o("0.2"),e("span",null,"%")],-1))]))),128))])])]),e("div",Z,[t[11]||(t[11]=e("div",{class:"content"},[e("h2",null,"生态值获取方式"),e("div",null,[e("a",{href:"/news/help/?#m25"},"生态值(等级)的获取途径？")])],-1)),e("div",_,[t[9]||(t[9]=e("h2",null,"推广文本",-1)),t[10]||(t[10]=e("p",null,"以下为您在本站专属的注册推荐地址，您可以通过微信、QQ、MSN等发给您的好友！",-1)),e("textarea",{name:"textarea2",id:"textarea2",class:"spreadTxt",cols:"80",rows:"3",readonly:"",value:M.value},null,8,ee),e("button",{class:"layui-btn layui-btn-danger layui-btn-fluid",onClick:$},"复制推广链接")])])]),e("div",te,[e("div",{class:"titlewrap"},[t[12]||(t[12]=e("h2",{class:"bigtitle pull-left"},[o(" 我的近期收益 "),e("span",{style:{"font-size":"13px","font-weight":"normal","padding-left":"20px",color:"red"}},[e("span",{class:"layui-icon layui-icon-about"}),o(" 今日奖励将在明天结算并开放领取！ ")])],-1)),e("form",{action:""},[e("button",{class:"layui-btn layui-btn-danger pull-right",type:"button",onClick:h},"一键领取投注提成"),e("button",{class:"layui-btn layui-btn-danger pull-right",type:"button",style:{"margin-right":"10px"},onClick:z},"一键领取升级奖励")])]),e("table",le,[e("thead",null,[e("tr",null,[t[13]||(t[13]=e("th",null,"我推荐的用户",-1)),t[14]||(t[14]=e("th",null,"生态值",-1)),t[15]||(t[15]=e("th",null,"加入时间",-1)),t[16]||(t[16]=e("th",null,"累计为我创收",-1)),t[17]||(t[17]=e("th",null,"今天",-1)),t[18]||(t[18]=e("th",null,"昨天",-1)),t[19]||(t[19]=e("th",null,"前天",-1)),(r(!0),s(p,null,u(S(k),(n,i)=>(r(),s("th",{key:i},d(n),1))),128))])]),e("tbody",null,[y.value?(r(),s("tr",ne,[...t[20]||(t[20]=[e("td",{colspan:"11",style:{"text-align":"center",color:"#999",padding:"20px"}},"加载中...",-1)])])):m.value.length===0?(r(),s("tr",re,[...t[21]||(t[21]=[e("td",{colspan:"11",style:{"text-align":"center",color:"#999",padding:"20px"}},"暂无推荐用户",-1)])])):(r(!0),s(p,{key:2},u(m.value,n=>(r(),s("tr",{key:n.id},[e("td",null,d(n.nickname||"***"),1),e("td",null,d(g(n.experience)),1),e("td",null,d(R(n.regtime)),1),e("td",se,d(g(n.tgall)),1),t[22]||(t[22]=e("td",null,"-",-1)),t[23]||(t[23]=e("td",null,"-",-1)),t[24]||(t[24]=e("td",null,"-",-1)),(r(!0),s(p,null,u(S(k),(i,P)=>(r(),s("td",{key:P},"-"))),128))]))),128))])])])])])])]),_:1})}}}),ce=K(oe,[["__scopeId","data-v-2540521d"]]);export{ce as default};
