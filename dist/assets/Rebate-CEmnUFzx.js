import{U as h}from"./UserLayout-Co7IRdW4.js";import{j as k}from"./customer-1SQV3JEG.js";import{d as m,o as g,y as B,w as C,f as t,c as r,g as _,F as v,e as w,r as i,p as o,n as y,t as l,s as x}from"./index-CI_7SEUj.js";import"./MainLayout-CDHSMaoa.js";const F={class:"rebate-page"},L={class:"page-tabs"},N=["onClick"],R={class:"rebate-table"},D={class:"rebate-amount"},S={key:0},T=m({__name:"Rebate",setup(U){const d=i("deposit"),b=[{key:"deposit",name:"充值返利"},{key:"loss",name:"亏损返利"},{key:"group",name:"2.8群亏损返利"}],n=i([]),u=i(!1),p=async()=>{u.value=!0;try{const s=await k({type:d.value});s.code===200&&s.data&&(n.value=s.data.map(a=>({id:a.id,date:a.date||a.created_at,validBet:a.valid_bet||a.validBet||0,deposit:a.deposit||a.recharge||0,rebate:a.rebate||a.amount||0,status:a.status_name||a.status||"未领取"})))}catch(s){console.error("Failed to load rebate records:",s),n.value=[]}finally{u.value=!1}},f=s=>{d.value=s,p()},c=s=>(s==null?void 0:s.toLocaleString())||"0";return g(()=>{p()}),(s,a)=>(o(),B(h,null,{default:C(()=>[t("div",F,[t("div",L,[(o(),r(v,null,_(b,e=>t("span",{key:e.key,class:y(["tab",{active:d.value===e.key}]),onClick:V=>f(e.key)},l(e.name),11,N)),64))]),t("div",R,[t("table",null,[a[1]||(a[1]=t("thead",null,[t("tr",null,[t("th",null,"日期"),t("th",null,"有效流水"),t("th",null,"充值"),t("th",null,"返利"),t("th",null,"状态")])],-1)),t("tbody",null,[(o(!0),r(v,null,_(n.value,e=>(o(),r("tr",{key:e.id},[t("td",null,l(e.date),1),t("td",null,l(c(e.validBet)),1),t("td",null,l(c(e.deposit)),1),t("td",D,l(c(e.rebate)),1),t("td",null,[t("span",{class:y(["status",e.status==="已领取"?"done":e.status==="可领取"?"active":""])},l(e.status),3)])]))),128)),n.value.length===0&&!u.value?(o(),r("tr",S,[...a[0]||(a[0]=[t("td",{colspan:"5",class:"empty-cell"},"无数据",-1)])])):w("",!0)])])])])]),_:1}))}}),M=x(T,[["__scopeId","data-v-f371a285"]]);export{M as default};
