import{d as yt,u as jt,o as wt,a as Ct,c as o,b as p,w as m,e as t,F as _,r as g,f as C,g as d,t as u,n as k,h as M,i as c,j as Mt,k as Rt,l,m as St,_ as Tt}from"./index-CDbJeEsl.js";import{u as $t,a as It,g as Pt,b as At,c as Nt,i as qt,M as Lt,w as Bt}from"./MainLayout-1608CcOq.js";import{S as q}from"./Skeleton-DKNbRMym.js";import{r as Dt,a as zt}from"./rank-DXTBSfEy.js";import{_ as Gt}from"./LoginBox.vue_vue_type_script_setup_true_lang-B1iZPwZb.js";import"./common-CW5iCQXJ.js";import"./sodium-jzn3nznW.js";import"./shield-check-BGCXRqLQ.js";const Ft="/index/202304041.png",Ht="/index_qq.png",$="/index_more.png",Et="/index/sj003.jpg",Kt="/index_work.jpg",Vt={class:"bannerbox"},Wt={key:0,class:"hd"},Ot=["onClick"],Qt={class:"bd"},Zt=["href","target"],Ut=["src","alt"],Xt={key:0,style:{display:"list-item"}},Yt={key:3,class:"bg-white opacity-95 absolute right-[calc(50%-600px)] z-50 w-[320px] h-auto pt-px pr-4 pb-4 pl-4 top-[15px] box-border rounded-[24px] shadow-[0_10px_25px_-5px_rgba(0,0,0,0.1),0_8px_10px_-6px_rgba(0,0,0,0.1)]"},Jt={key:4,class:"fucen_box"},te={class:"message_box"},ee={class:"img"},se=["src","alt"],ne={class:"text"},ae={style:{"font-size":"12px","font-weight":"initial"}},oe={class:"user-onwer-list"},le={class:"anniu_box"},ie=["href"],re={class:"index_center"},de={class:"center_box"},ue={class:"step_box"},ce={class:"index_box games_box"},pe={class:"top"},ve={class:"list"},_e={key:0},ge={class:"img"},me={class:"text"},he={key:1},fe=["onClick"],ke={class:"img"},xe=["src","alt"],be={class:"text"},ye={class:"index_box news_box"},je={class:"top"},we={class:"news_list"},Ce={key:0},Me={class:"index_box cash_box"},Re={class:"bd scroll-container"},Se={href:"javascript:void(0)"},Te={href:"javascript:void(0)"},$e={class:"index_box card_box"},Ie={class:"top"},Pe={class:"list"},Ae={key:0},Ne={class:"img"},qe={class:"text"},Le={key:1},Be=["onClick"],De={class:"img"},ze=["src","alt"],Ge={class:"text"},Fe={class:"index_box day_box"},He={class:"menu"},Ee={class:"day_list"},Ke={class:"col-rank"},Ve={class:"col-name"},We={href:"javascript:void(0)"},Oe={class:"col-score"},Qe={class:"ranking-pagination"},Ze={class:"page-info"},Ue={class:"index_box prize_box"},Xe={class:"award_box"},Ye={class:"hd"},Je=["onClick"],ts={class:"bd"},es={class:"pro_box"},ss={class:"banner_box"},ns={class:"inbd"},as={href:"#"},os=["src"],ls={class:"pro"},is={href:"#"},rs={class:"img"},ds=["src","alt"],us={key:0,class:"home-popup-dialog"},cs={class:"popup-dialog-box"},ps={class:"popup-dialog-content"},vs=["innerHTML"],E=7,h=14,_s=yt({__name:"Home",setup(gs){const{t:ms,locale:K}=jt(),rt=Rt(),L=$t(),V=It(),dt=M(()=>L.isLogin),ut=M(()=>V.sysConfig),b=M(()=>L.currentCustomer),v=c([]),B=c([]),W=c([]),O=c([]),x=c(0),D=c(!0),Q=c(611561927),z=c(!1),I=c(null),P=c([]),G=c(!1);let A=null,N=null;const Z=()=>{const n=["138","139","158","159","186","187","135","136","177","178"],e=n[Math.floor(Math.random()*n.length)],a=String(Math.floor(Math.random()*1e4)).padStart(4,"0");return`${e}****${a}`},ct=()=>{const n=[500,800,1e3,1200,1500,2e3,2500,3e3,3500,5e3,8e3,1e4];return n[Math.floor(Math.random()*n.length)]},U=n=>{const e=[];for(let a=0;a<n;a++)e.push({user:Z(),amount:ct()});return e},pt=async()=>{try{const n=await Bt(10);let e=[];if(n.code===200&&n.data&&n.data.length>0&&(e=n.data.map(a=>({user:a.mobile||Z(),amount:Math.abs(a.deposit||0)}))),e.length<10){const a=10-e.length,i=U(a);e=[...e,...i]}e=e.sort(()=>Math.random()-.5),P.value=e}catch(n){console.error("获取提现动态失败:",n),P.value=U(10)}},X=()=>{G.value=!1},Y=()=>{G.value=!0},R=c([]),S=c([]),y=c("today"),f=c(1),vt=M(()=>{const n=y.value==="today"?R.value:S.value,e=(f.value-1)*E,a=e+E;return n.slice(e,a)}),F=M(()=>{const n=y.value==="today"?R.value:S.value;return Math.ceil(n.length/E)}),J=()=>{const n=["大门","小飞侠","夜猫子","追风少年","逍遥客","独行侠","神算子","财神爷","幸运星","金手指","老司机","淡定哥","稳赢王","发财树","聚宝盆","福星高照","一路发","好运来","招财猫","摇钱树","常胜将军","百战百胜","一夜暴富","步步高升","财源滚滚","潇洒哥","快乐王","无敌手","横扫千军","所向披靡"],e=["","","",String(Math.floor(Math.random()*9e3)+1e3),String(Math.floor(Math.random()*900)+100),"。","~","！"],a=n[Math.floor(Math.random()*n.length)],i=e[Math.floor(Math.random()*e.length)];return a+i},_t=()=>Math.floor(Math.random()*2e8)+5e7,j=(n,e)=>{const a=[];for(let i=0;i<n;i++)a.push({rank:e+i,user:J(),amount:_t()});return a.sort((i,s)=>s.amount-i.amount)},tt=n=>n.map((e,a)=>({rank:a+1,user:e.nickname||J(),amount:e.profit||0})),gt=async()=>{try{const[n,e]=await Promise.all([Dt(),zt()]);if(n.code===200&&n.data){let a=tt(n.data);if(a.length<h){const i=h-a.length,s=j(i,a.length+1);a=[...a,...s]}a.sort((i,s)=>s.amount-i.amount),a=a.slice(0,h).map((i,s)=>({...i,rank:s+1})),R.value=a}else R.value=j(h,1).map((a,i)=>({...a,rank:i+1}));if(e.code===200&&e.data){let a=tt(e.data);if(a.length<h){const i=h-a.length,s=j(i,a.length+1);a=[...a,...s]}a.sort((i,s)=>s.amount-i.amount),a=a.slice(0,h).map((i,s)=>({...i,rank:s+1})),S.value=a}else S.value=j(h,1).map((a,i)=>({...a,rank:i+1}))}catch(n){console.error("获取排行榜数据失败:",n),R.value=j(h,1).map((e,a)=>({...e,rank:a+1})),S.value=j(h,1).map((e,a)=>({...e,rank:a+1}))}},et=n=>{y.value=n,f.value=1},mt=()=>{f.value>1&&f.value--},ht=()=>{f.value<F.value&&f.value++},H=c(0),st=c([{name:"数码产品",banner:"/index/index_dj_15.jpg",products:[{id:1,name:"Apple 2020新款 MacBook Pro",price:9600,img:"/index/dj_111.jpg"},{id:2,name:"极米NEW Z6X 投影仪",price:3199,img:"/index/dj_112.jpg"},{id:3,name:"华为手环4",price:249,img:"/index/dj_113.jpg"},{id:4,name:"OPPO K10x",price:1799,img:"/index/dj_114.jpg"},{id:5,name:"任天堂 Nintendo Switch",price:2200,img:"/index/dj_125.jpg"},{id:6,name:"Apple iPad Pro2020年新款",price:6100,img:"/index/dj_108.jpg"}]},{name:"居家生活",banner:"/index/index_dj_06.jpg",products:[{id:7,name:"爱丽思IRIS 收纳柜",price:699,img:"/index/dj_317.jpg"},{id:8,name:"南极人 地毯 140*200cm",price:120,img:"/index/dj_308.jpg"},{id:9,name:"小熊 纳豆酸奶机",price:269,img:"/index/dj_303.jpg"},{id:10,name:"美的 低音破壁机",price:599,img:"/index/dj_314.jpg"},{id:11,name:"美的 电火锅",price:199,img:"/index/dj_315.jpg"},{id:12,name:"小熊 面包机",price:499,img:"/index/dj_309.jpg"}]},{name:"母婴玩具",banner:"/index/index_dj_04.jpg",products:[{id:13,name:"小米 米兔智能故事机",price:249,img:"/index/dj_401.jpg"},{id:14,name:"特酷婴童 儿童自行车",price:469,img:"/index/dj_402.jpg"},{id:15,name:"小熊 恒温调奶器",price:388,img:"/index/dj_407.jpg"},{id:16,name:"迪士尼 手账本",price:99,img:"/index/dj_404.jpg"},{id:17,name:"babycare恐龙游戏围栏",price:999,img:"/index/dj_405.jpg"},{id:18,name:"伟易达 婴幼儿早教益智玩具台",price:459,img:"/index/dj_406.jpg"}]}]),nt=M(()=>st.value[H.value]),ft=n=>"lang_title"in n&&n.lang_title&&typeof n.lang_title=="object"&&!Array.isArray(n.lang_title)?n.lang_title[K.value]||n.title:"lang_name"in n&&n.lang_name&&typeof n.lang_name=="object"&&!Array.isArray(n.lang_name)?n.lang_name[K.value]||n.name:"title"in n?n.title:n.name,at=()=>{v.value.length>0&&(x.value=(x.value+1)%v.value.length)},kt=()=>{v.value.length>0&&(x.value=(x.value-1+v.value.length)%v.value.length)};wt(async()=>{V.fetchConfig(),Pt().then(n=>{var e;if(n.code===200&&((e=n.data)==null?void 0:e.length)>0){const a=n.data[0];I.value=a;const i=`home_popup_${a.id}`;sessionStorage.getItem(i)||(z.value=!0,sessionStorage.setItem(i,"true"))}}).catch(n=>{console.error("Failed to get home popup:",n)}),pt().then(()=>{X()}),gt();try{const[n,e,a]=await Promise.all([At(),Nt(),qt({hot_count:8,new_count:4})]);n.code===200&&(v.value=n.data||[]),e.code===200&&(B.value=e.data||[]),a.code===200&&a.data&&(W.value=a.data.hot||[],O.value=a.data.new||[]),v.value.length>0&&(A=setInterval(at,5e3)),N=setInterval(()=>{Q.value+=Math.floor(Math.random()*100)},2e3)}catch(n){console.error("Failed to load home data:",n)}finally{D.value=!1}}),Ct(()=>{Y(),A&&(clearInterval(A),A=null),N&&(clearInterval(N),N=null)});const ot=n=>{rt.push({path:"/games",query:{lottery:String(n)}})},lt=(n,e)=>n.game_logo?n.game_logo:`/index/0${e%8+1}.png`,T=n=>n.toLocaleString(),xt=()=>{L.logout()},it=()=>{window.scrollTo({top:0,behavior:"smooth"})},bt=()=>{z.value=!1};return(n,e)=>{const a=Mt("router-link");return l(),o(_,null,[p(Lt,null,{default:m(()=>{var i;return[t("div",Vt,[v.value.length>1?(l(),o("div",Wt,[t("ul",null,[(l(!0),o(_,null,g(v.value,(s,r)=>(l(),o("li",{key:r,class:k({on:x.value===r}),onClick:w=>x.value=r},null,10,Ot))),128))])])):C("",!0),t("div",Qt,[t("ul",null,[(l(!0),o(_,null,g(v.value,(s,r)=>(l(),o("li",{key:s.id,style:St({display:x.value===r?"list-item":"none"})},[t("a",{href:s.jump_url||"javascript:void(0)",target:s.jump_url?"_blank":"_self"},[t("img",{src:s.pc_pic||s.pic,alt:s.title,width:"1920",height:"384"},null,8,Ut)],8,Zt)],4))),128)),v.value.length===0?(l(),o("li",Xt,[...e[2]||(e[2]=[t("a",{href:"javascript:void(0)"},[t("img",{src:Ft,alt:"默认轮播图",width:"1920",height:"384"})],-1)])])):C("",!0)])]),v.value.length>1?(l(),o("a",{key:1,class:"prev",href:"javascript:void(0)",onClick:kt})):C("",!0),v.value.length>1?(l(),o("a",{key:2,class:"next",href:"javascript:void(0)",onClick:at})):C("",!0),dt.value?(l(),o("div",Jt,[t("div",te,[t("div",ee,[p(a,{to:"/user"},{default:m(()=>{var s,r;return[t("img",{src:((s=b.value)==null?void 0:s.avatar)||"/head/m-1.gif",alt:((r=b.value)==null?void 0:r.nickname)||""},null,8,se)]}),_:1})]),t("div",ne,[p(a,{to:"/user"},{default:m(()=>{var s,r,w;return[t("h3",null,[d(u(((s=b.value)==null?void 0:s.nickname)||"_sg"+((r=b.value)==null?void 0:r.id))+" ",1),t("span",ae,"ID:"+u((w=b.value)==null?void 0:w.id),1)])]}),_:1}),e[3]||(e[3]=t("p",null,[d("暂未开通会员 "),t("a",{href:"#",class:"button",style:{cursor:"pointer","margin-left":"10px"}},"开通会员")],-1))]),t("div",{class:"close_box",onClick:xt},[...e[4]||(e[4]=[t("a",{href:"javascript:void(0)"},null,-1)])])]),t("div",oe,[p(a,{to:"/user/detail"},{default:m(()=>{var s;return[t("p",null,[e[5]||(e[5]=d("余额：",-1)),t("span",null,u(T(((s=b.value)==null?void 0:s.points)||0)),1)])]}),_:1}),p(a,{class:"button",to:"/shop"},{default:m(()=>[...e[6]||(e[6]=[d("商城",-1)])]),_:1}),p(a,{class:"button",to:"/partners"},{default:m(()=>[...e[7]||(e[7]=[d("充值",-1)])]),_:1})]),t("div",le,[p(a,{class:"button",to:"/user/checkin",style:{cursor:"pointer"}},{default:m(()=>[...e[8]||(e[8]=[d("每日签到",-1)])]),_:1})]),t("a",{href:`http://wpa.qq.com/msgrd?v=3&uin=${((i=ut.value)==null?void 0:i.connet_qq)||"228711"}&site=qq&menu=yes`,target:"_blank",class:"qq-banner"},[...e[9]||(e[9]=[t("img",{src:Ht,alt:"QQ客服",width:"335",height:"75"},null,-1)])],8,ie)])):(l(),o("div",Yt,[p(Gt,{compact:""})]))]),t("div",re,[t("div",de,[t("div",ue,[t("span",null,[t("b",null,u(T(Q.value)),1)])]),t("div",ce,[t("div",pe,[e[11]||(e[11]=t("h2",null,"最新游戏",-1)),p(a,{class:"more",to:"/games"},{default:m(()=>[...e[10]||(e[10]=[d("更多",-1),t("img",{src:$},null,-1)])]),_:1})]),t("div",ve,[D.value?(l(),o("ul",_e,[(l(),o(_,null,g(4,s=>t("li",{key:`skeleton-new-${s}`},[t("div",ge,[p(q,{width:"193px",height:"320px","border-radius":"4px"})]),t("div",me,[t("dd",null,[p(q,{width:"120px",height:"20px",style:{"margin-top":"10px"}})])])])),64))])):(l(),o("ul",he,[(l(!0),o(_,null,g(O.value.slice(0,4),(s,r)=>(l(),o("li",{key:s.id,onClick:w=>ot(s.id)},[e[13]||(e[13]=t("i",{class:"game-type type"},null,-1)),t("div",ke,[t("img",{src:lt(s,r),alt:s.name},null,8,xe),e[12]||(e[12]=t("div",{class:"hover"},[t("a",{class:"link_btn",href:"javascript:void(0)"}),t("a",{class:"button",href:"javascript:void(0)"},"立即试玩")],-1))]),t("div",be,[t("dd",null,[t("span",null,u(s.name),1)])])],8,fe))),128))]))])]),t("div",ye,[t("div",je,[e[15]||(e[15]=t("h2",null,"公告",-1)),p(a,{class:"more",to:"#"},{default:m(()=>[...e[14]||(e[14]=[d("更多",-1),t("img",{src:$},null,-1)])]),_:1})]),t("ul",we,[(l(!0),o(_,null,g(B.value.slice(0,5),s=>(l(),o("li",{key:s.id},[p(a,{to:`/announcement/${s.id}`},{default:m(()=>[e[16]||(e[16]=t("b",null,null,-1)),d(u(ft(s)),1)]),_:2},1032,["to"])]))),128)),B.value.length===0?(l(),o("li",Ce,[...e[17]||(e[17]=[t("span",{class:"empty-notice"},[t("b"),d("暂无公告")],-1)])])):C("",!0)])]),t("div",Me,[e[20]||(e[20]=t("div",{class:"top"},[t("h2",null,"提现动态")],-1)),t("div",{class:"cash_list",onMouseenter:Y,onMouseleave:X},[t("div",Re,[t("ul",{class:k(["infoList","scroll-animation",{"scroll-paused":G.value}])},[(l(!0),o(_,null,g(P.value,(s,r)=>(l(),o("li",{key:`a-${r}`},[t("p",null,[t("b",null,[t("a",Se,u(s.user),1)]),e[18]||(e[18]=d(" 提现了",-1))]),t("span",null,u(T(s.amount)),1)]))),128)),(l(!0),o(_,null,g(P.value,(s,r)=>(l(),o("li",{key:`b-${r}`},[t("p",null,[t("b",null,[t("a",Te,u(s.user),1)]),e[19]||(e[19]=d(" 提现了",-1))]),t("span",null,u(T(s.amount)),1)]))),128))],2)])],32)]),t("div",$e,[t("div",Ie,[e[22]||(e[22]=t("h2",null,"热门游戏",-1)),p(a,{class:"more",to:"/games"},{default:m(()=>[...e[21]||(e[21]=[d("更多",-1),t("img",{src:$},null,-1)])]),_:1})]),t("div",Pe,[D.value?(l(),o("ul",Ae,[(l(),o(_,null,g(4,s=>t("li",{key:`skeleton-hot-${s}`},[t("div",Ne,[p(q,{width:"193px",height:"320px","border-radius":"4px"})]),t("div",qe,[t("dd",null,[p(q,{width:"120px",height:"20px",style:{"margin-top":"10px"}})])])])),64))])):(l(),o("ul",Le,[(l(!0),o(_,null,g(W.value.slice(0,4),(s,r)=>(l(),o("li",{key:s.id,onClick:w=>ot(s.id)},[e[24]||(e[24]=t("i",{class:"game-type type"},null,-1)),t("div",De,[t("img",{src:lt(s,r+4),alt:s.name},null,8,ze),e[23]||(e[23]=t("div",{class:"hover"},[t("a",{class:"link_btn",href:"javascript:void(0)"}),t("a",{class:"button",href:"javascript:void(0)"},"立即试玩")],-1))]),t("div",Ge,[t("dd",null,[t("span",null,u(s.name),1)])])],8,Be))),128))]))])]),t("div",Fe,[t("ul",He,[t("li",{class:k({list:y.value==="today"}),onClick:e[0]||(e[0]=s=>et("today"))},[...e[25]||(e[25]=[t("a",{href:"javascript:void(0)"},"今日排行榜",-1)])],2),t("li",{class:k({list:y.value==="yesterday"}),onClick:e[1]||(e[1]=s=>et("yesterday"))},[...e[26]||(e[26]=[t("a",{href:"javascript:void(0)"},"昨日排行榜",-1)])],2)]),t("ul",Ee,[e[27]||(e[27]=t("li",{class:"top"},[t("div",{class:"col-rank"},"排名"),t("div",{class:"col-name"},"昵称"),t("div",{class:"col-score"},"乐豆")],-1)),(l(!0),o(_,null,g(vt.value,s=>(l(),o("li",{key:`rank-${y.value}-${s.rank}`,class:"rank-row"},[t("div",Ke,[t("span",{class:k(["rank-icon",s.rank===1?"one":s.rank===2?"two":s.rank===3?"three":"end"])},u(s.rank>3?s.rank:""),3)]),t("div",Ve,[t("a",We,u(s.user),1)]),t("div",Oe,u(T(s.amount)),1)]))),128))]),t("div",Qe,[t("a",{href:"javascript:void(0)",class:k(["page-btn prev",{disabled:f.value===1}]),onClick:mt},"上一页",2),t("span",Ze,u(f.value)+"/"+u(F.value),1),t("a",{href:"javascript:void(0)",class:k(["page-btn next",{disabled:f.value===F.value}]),onClick:ht},"下一页",2)])]),t("div",Ue,[t("div",{class:"top"},[e[29]||(e[29]=t("h2",null,"游戏商城",-1)),t("a",{class:"more",href:"javascript:void(0)",onClick:it},[...e[28]||(e[28]=[d("更多",-1),t("img",{src:$},null,-1)])])]),t("div",Xe,[t("div",Ye,[t("ul",null,[(l(!0),o(_,null,g(st.value,(s,r)=>(l(),o("li",{key:r,class:k({on:H.value===r}),onClick:w=>H.value=r},u(s.name),11,Je))),128))])]),t("div",ts,[t("div",es,[t("div",ss,[t("div",ns,[t("ul",null,[t("li",null,[t("a",as,[t("img",{src:nt.value.banner,width:"293",height:"414"},null,8,os)])])])])]),t("ul",ls,[(l(!0),o(_,null,g(nt.value.products,s=>(l(),o("li",{key:s.id},[t("a",is,[t("div",rs,[t("img",{src:s.img,alt:s.name},null,8,ds)]),t("span",null,u(s.name),1),t("b",null,u(s.price)+"元",1)])]))),128))])])])]),e[30]||(e[30]=t("div",{class:"bask_box"},[t("h2",null,[t("span",null,"蛋友晒奖")]),t("ul",null,[t("div",{class:"first"},[t("a",{href:"#"},[t("div",{class:"img"},[t("img",{src:Et,width:"251",height:"133"})]),t("span",null,'哈哈，我想继续"薅"蛋蛋的羊毛')])]),t("li",null,[t("a",{href:"#"},[t("span",null,[t("b"),d("心心念念的烤箱终于到我碗里啦")])])]),t("li",null,[t("a",{href:"#"},[t("span",null,[t("b"),d("坚持就是胜利，迎来我的健康养生壶")])])]),t("li",null,[t("a",{href:"#"},[t("span",null,[t("b"),d("终于兑换了小米蓝牙运动mini耳机")])])]),t("li",null,[t("a",{href:"#"},[t("span",null,[t("b"),d("2020年第一份幸运！")])])]),t("li",null,[t("a",{href:"#"},[t("span",null,[t("b"),d("心仪已久的飞利浦智能电饭煲到手啦")])])])])],-1))]),t("div",{class:"index_box work_box"},[t("div",{class:"top"},[e[32]||(e[32]=t("h2",null,"合作商家",-1)),t("a",{class:"more",href:"javascript:void(0)",onClick:it},[...e[31]||(e[31]=[d("更多",-1),t("img",{src:$},null,-1)])])]),e[33]||(e[33]=t("div",{class:"work_list"},[t("img",{src:Kt,alt:"合作商家"})],-1))])])])]}),_:1}),z.value&&I.value?(l(),o("div",us,[t("div",cs,[t("div",ps,[t("h1",null,u(I.value.title),1),t("div",{class:"popup-dialog-body",innerHTML:I.value.content},null,8,vs),t("a",{href:"javascript:;",class:"popup-close-btn",onClick:bt},[...e[34]||(e[34]=[t("svg",{viewBox:"0 0 24 24"},[t("path",{d:"M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"}),t("path",{d:"M0 0h24v24h-24z",fill:"none"})],-1)])])])])])):C("",!0)],64)}}}),Cs=Tt(_s,[["__scopeId","data-v-28992bbd"]]);export{Cs as default};
